<!DOCTYPE html>
<html>
<head>
<title>SafeRoute AI</title>

<style>
body {
  font-family: Arial;
  background: linear-gradient(135deg,#74ABE2,#5563DE);
  padding: 20px;
  color: white;
}

.container {
  max-width: 720px;
  background: white;
  color: black;
  padding: 20px;
  border-radius: 14px;
  box-shadow: 0 0 15px rgba(0,0,0,0.3);
}

input {
  padding: 8px;
  width: 45%;
  margin: 5px;
}

button {
  padding: 10px 18px;
  background: #ff9800;
  color: black;
  border: none;
  border-radius: 8px;
  font-weight: bold;
  cursor: pointer;
}

.route {
  padding: 12px;
  margin-top: 10px;
  border-radius: 10px;
  font-weight: bold;
}

.safe { background:#d4edda; color:#155724; }
.medium { background:#fff3cd; color:#856404; }
.danger { background:#f8d7da; color:#721c24; }
.black { background:#343a40; color:white; }
.best { border: 3px solid black; }
</style>
</head>

<body>

<div class="container">
<h2>üö¶ SafeRoute AI - Smart Safety Navigation</h2>
<p>Enter Origin and Destination to analyze multiple routes</p>

<input id="origin" placeholder="Origin (A)">
<input id="destination" placeholder="Destination (B)">
<br><br>

<button onclick="findRoutes()">Find Safest Route</button>

<div id="output"></div>
</div>

<script>

// Deterministic Random Generator
function seededRandom(seed) {
  let x = Math.sin(seed) * 10000;
  return x - Math.floor(x);
}

// Hash function for same input = same seed
function getSeed(str){
  let hash = 0;
  for(let i=0;i<str.length;i++){
    hash = str.charCodeAt(i) + ((hash<<5)-hash);
  }
  return hash;
}

function findRoutes() {

  let origin = document.getElementById("origin").value.trim();
  let dest = document.getElementById("destination").value.trim();

  if(origin=="" || dest==""){
    alert("Enter Origin and Destination");
    return;
  }

  let seed = getSeed(origin + dest);

  // Dynamic route count (2‚Äì8 but FIXED for same input)
  let routeCount = Math.floor(seededRandom(seed)*7)+2;

  let routes = [];

  for(let i=1;i<=routeCount;i++){
    let checkpoints = Math.floor(seededRandom(seed+i)*6)+1;
    let tolls = Math.floor(seededRandom(seed+i*2)*4);
    let rating = Math.floor(seededRandom(seed+i*3)*6);

    routes.push({
      name:"Route "+i,
      checkpoints,
      tolls,
      rating
    });
  }

  // Safety score formula
  routes.forEach(r=>{
    r.score = (r.checkpoints*12) - (r.tolls*6) + (r.rating*8);
  });

  // Sort descending
  routes.sort((a,b)=>b.score - a.score);

  let html = `<h3>Routes from <b>${origin}</b> ‚Üí <b>${dest}</b></h3>`;
  html += `<p>Total routes found: <b>${routeCount}</b></p>`;

  routes.forEach((r,index)=>{
    let cls="black";
    if(r.score>=80) cls="safe";
    else if(r.score>=60) cls="medium";
    else if(r.score>=40) cls="danger";

    let best = index==0 ? "best" : "";

    html += `
      <div class="route ${cls} ${best}">
      ${r.name}<br>
      Checkpoints: ${r.checkpoints} | Tolls: ${r.tolls} | User Rating: ${r.rating}/5<br>
      <b>Safety Score = ${r.score}</b>
      ${index==0 ? " ‚≠ê BEST & SAFEST ROUTE" : ""}
      </div>
    `;
  });

  document.getElementById("output").innerHTML = html;
}
</script>

</body>
</html>
